<html>
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
    
    google.charts.load('current', {'packages':['line']});
    google.charts.setOnLoadCallback(drawChart);
      
    function drawChart() {
      var dateAnchor = Date.now(); 
      var yesterday = new Date(dateAnchor - 1000 * 60 * 60 * 24 );
      var AboveSevenDays = new Date(dateAnchor - 1000 * 60 * 60 * 24 * 30);
      var endDate = String(yesterday.getFullYear()).concat('-',String(yesterday.getMonth()+1),'-',String(yesterday.getDate()));
      var startDate = String(AboveSevenDays.getFullYear()).concat('-',String(AboveSevenDays.getMonth()+1),'-',String(AboveSevenDays.getDate()));
      var defaultCurrName = 'USD';

      var jsonData = $.ajax({
          url: "http://localhost:8080/simonExp/currency/CurrencyResource?CurrencyName="+defaultCurrName+"&Rate=Selling&CashSpot=Spot&StartDate="+startDate+"&EndDate="+endDate,
          dataType: "json",
          async: false
          }).responseJSON;   

      var data = new google.visualization.DataTable();

      data.addColumn('date', 'Date');
      data.addColumn('number', 'Price');

      var dataSet = [];

     for(datas in jsonData){
        dataSet.push([new Date(jsonData[datas].rateDate), jsonData[datas].price]);
      }

      data.addRows(dataSet);
          
      var options = {
        // chart: {
        //   title: 'Box Office Earnings in First Two Weeks of Opening',
        //   subtitle: 'in millions of dollars (USD)'
        // },
        width: 900,
        height: 500
      };

      var chart = new google.charts.Line(document.getElementById('linechart_material'));

      chart.draw(data, google.charts.Line.convertOptions(options));
    }

    </script>
  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <div id="linechart_material"></div>
  </body>
</html>